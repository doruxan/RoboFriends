(this.webpackJsonprobofriends=this.webpackJsonprobofriends||[]).push([[0],{37:function(e,t,n){e.exports=n(68)},47:function(e,t,n){},48:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(13),c=n.n(a),s=n(12),i=(n(47),n(35)),u=function(e){var t=e.item,n=t.name,r=t.email;return o.a.createElement("div",{className:"tc bg-light-green dib br3 pa3 ma2 grow bw2 shadow-5"},o.a.createElement("img",{src:"https://robohash.org/".concat(n,"?200x200"),alt:"RobotImg"}),o.a.createElement("div",null,o.a.createElement("h2",null,n),o.a.createElement("p",null,r)))},h=function(e){return e.items.map((function(e){return o.a.createElement(u,{key:e.id,id:e.id,item:e})}))},l=function(e){var t=e.onSearchChange;return o.a.createElement("div",{className:"pa2"},o.a.createElement("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"Search Robots",onChange:t}))},d=function(e){var t=e.children;return o.a.createElement("div",{style:{overflowY:"scroll",border:"1px solid black",marginBottom:"100px"}},t)},p=n(10),b=n(31),f=n(15),m=n(16),g=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(b.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",{className:"tc"},"Oooops.That is not good"):this.props.children}}]),n}(r.Component),O=(n(48),function(){var e=Object(s.c)((function(e){return[e.home.searchField,e.home.robots,e.home.getRobotsProgress,e.home.getRobotsError]})),t=Object(i.a)(e,4),n=t[0],a=t[1],c=t[2],u=(t[3],Object(s.b)());Object(r.useEffect)((function(){u({type:"GET_ROBOTS"})}),[]);var p=a.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return console.log("render"),c?o.a.createElement("h1",{className:"tc"},"Loading"):o.a.createElement("div",{className:"tc"},o.a.createElement("h1",{className:"f1"},"RoboFriends"),o.a.createElement(l,{onSearchChange:function(e){return u({type:"SET_SEARCH_FIELD",payload:e.target.value})}}),o.a.createElement(d,null,o.a.createElement(g,null,o.a.createElement(h,{items:p}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(49);var E=n(8),v=n(36),_=n(32),S=n(6),j={searchField:"",getRobotsProgress:!1,robots:[],getRobotsError:""},y=n(9),R=n.n(y),T=n(11),w=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getRobots=function(){return e._doGet("/users")},e}return n}((function e(){var t=this;Object(p.a)(this,e),this.setHttpService=function(e){t.httpService=e},this._doDelete=function(e,n){return t.httpService.fetch({pureHttpMode:!0,method:"delete",body:n,endpoint:e})},this._doPut=function(e,n){return t.httpService.fetch({pureHttpMode:!0,method:"put",body:n,endpoint:e})},this._doPost=function(e,n){return console.log("BODY",n),t.httpService.fetch({pureHttpMode:!0,method:"post",body:n,endpoint:e})},this._doGet=function(e){return t.httpService.fetch({pureHttpMode:!0,method:"get",endpoint:e})}})),P=n(33),x=n(34),C=n.n(x),k=new w,A=Object(S.a)({},k),B=new function e(){var t=this;Object(p.a)(this,e),this.setConfig=function(e){t.config=e},this.setToken=function(e){t.token=e},this.fetch=function(){var e=Object(P.a)(R.a.mark((function e(n){var r,o,a,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config.API_PATH+n.endpoint,o=n.body||{},a=n.method||"get",c=n.headers||{},s={method:a,headers:Object(S.a)({},c)},"post"!=a&&"put"!=a&&"delete"!=a||(s.body=JSON.stringify(o)),!n.pureHttpMode){e.next=8;break}return e.abrupt("return",t._doPureFetch(r,s));case 8:return e.abrupt("return",t._doFetch(r,s));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._doPureFetch=function(e,t){return new Promise((function(n,r){console.log("full api path",e),console.log("full api path",t),fetch(e,t).then((function(e){e.text().then((function(t){console.log("data",t),2!==parseInt(e.status/100,10)?r(Object(S.a)({},e,{_bodyText:t})):n(Object(S.a)({},e,{_bodyText:t}))}))})).catch((function(e){return r(e)}))}))},this._doFetch=function(e,t){return new Promise((function(n,r){fetch(e,t).then((function(e){e.json().then((function(t){if(2!==parseInt(e.status/100,10)){var o=t.errors,a=t.error;o&&Array.isArray(o)?r(o.map((function(e){return e.msg})).join("\n")):a&&r(a)}else n(t)}))})).catch((function(e){return r(e)}))}))},this.axiosPost=function(e){var n="".concat(t.config.API_PATH).concat(e.endpoint),r=e.body||{};return C.a.post(n,r)}};B.setConfig({API_PATH:"https://jsonplaceholder.typicode.com"}),A.setHttpService(B);var F=A,G=R.a.mark(H);function H(e){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.b)({type:"GET_ROBOTS_PROGRESS"});case 3:return e.next=5,Object(T.a)(F.getRobots);case 5:return t=e.sent,n=JSON.parse(t._bodyText),e.next=9,Object(T.b)({type:"GET_ROBOTS_SUCCESS",payload:n});case 9:e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log("Error at getRobotsSaga",e.t0),r=JSON.parse(e.t0._bodyText),e.next=17,Object(T.b)({type:"GET_ROBOTS_FAIL",payload:r});case 17:case"end":return e.stop()}}),G,null,[[0,11]])}var I=R.a.mark(N);function N(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.c)("GET_ROBOTS",H);case 2:case"end":return e.stop()}}),I)}var L=Object(E.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;return"SET_SEARCH_FIELD"===n?Object(S.a)({},e,{searchField:r}):"GET_ROBOTS_PROGRESS"===n?Object(S.a)({},e,{getRobotsProgress:!0,robots:[],getRobotsError:""}):"GET_ROBOTS_SUCCESS"===n?Object(S.a)({},e,{getRobotsProgress:!1,robots:r,getRobotsError:""}):"GET_ROBOTS_FAIL"===n?Object(S.a)({},e,{getRobotsProgress:!1,robots:[],getRobotsError:r}):e}}),D=Object(v.a)(),M=Object(_.createLogger)(),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,U=Object(E.e)((function(e,t){return"RESET_APP"===t.type&&(e=void 0),L(e,t)}),J(Object(E.a)(D,M)));D.run(N);var W=U;c.a.render(o.a.createElement(s.a,{store:W},o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.fd877440.chunk.js.map